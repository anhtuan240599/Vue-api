<template>
  <div>
    <div v-for="deck in decks" :key="deck._id">
      <div>
       
          <div>
            {{ deck.name }}
          </div>
        <nuxt-link :to="`/users/${deck.owner._id}`">
          <div>
            {{ deck.owner._id }}
          </div>
        </nuxt-link>
        <nuxt-link :to="`/decks/${deck._id}`">
          <img :src="deck.image" />
        </nuxt-link>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  async asyncData({ $axios }) {
    try {
      let response = await $axios.$get("http://localhost:3000/decks");

      return {
        decks: response.decks
      };
    } catch (err) {
      console.log(err);
    }
  }
};
</script>
